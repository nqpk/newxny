"use strict";(self["webpackChunkstu_project"]=self["webpackChunkstu_project"]||[]).push([[414],{4414:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"con"},[i("div",{staticClass:"cropperjs-con"},[i("img",{attrs:{id:"image",src:t.imgUrl}})]),i("div",{staticClass:"oper"},[i("div",{class:{"oper-item":!0,active:0==t.itemindex},on:{click:function(e){return t.crop1()}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505920341",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4507",width:"28",height:"28"}},[i("path",{attrs:{d:"M916.768 761.92h-94.624V318.528c0-53.824-41.024-95.04-94.624-95.04H254.432v-126.72c0-19.04-12.576-31.68-31.52-31.68-18.976 0-31.552 12.64-31.552 31.68v126.72H96.736c-18.976 0-31.52 12.608-31.52 31.68 0 19.04 12.544 31.68 31.52 31.68H191.36V730.24c0 53.824 41.024 95.04 94.624 95.04H759.04v126.688c0 19.04 12.544 31.68 31.52 31.68s31.552-12.64 31.552-31.68v-126.72h94.624c18.976 0 31.52-12.608 31.52-31.68 0-19.04-12.544-31.68-31.52-31.68z m-157.696 0H285.984c-18.976 0-31.552-12.608-31.552-31.68V286.848h473.088c18.976 0 31.552 12.608 31.552 31.68V761.92z",fill:"#34394F","p-id":"4508"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){t.reset(),t.itemindex=-1}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505127332",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15160",width:"30",height:"30"}},[i("path",{attrs:{d:"M384 230.4L273.066667 341.333333H682.666667c119.466667 0 213.333333 93.866667 213.333333 213.333334s-93.866667 213.333333-213.333333 213.333333H298.666667v-42.666667h384c93.866667 0 170.666667-76.8 170.666666-170.666666s-76.8-170.666667-170.666666-170.666667H170.666667l42.666666-42.666667 140.8-140.8 29.866667 29.866667z",fill:"#34394F","p-id":"15161"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.zoom(.2)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505210460",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16308",width:"30",height:"30"}},[i("path",{attrs:{d:"M901.12 860.16l-126.976-126.976c61.44-65.536 98.304-151.552 98.304-245.76 0-196.608-159.744-360.448-360.448-360.448s-360.448 159.744-360.448 360.448 159.744 360.448 360.448 360.448c90.112 0 172.032-32.768 233.472-86.016l126.976 126.976c4.096 4.096 8.192 4.096 16.384 4.096s12.288 0 16.384-4.096C909.312 880.64 909.312 868.352 901.12 860.16zM512 806.912c-176.128 0-319.488-143.36-319.488-319.488s143.36-319.488 319.488-319.488 319.488 143.36 319.488 319.488S684.032 806.912 512 806.912z","p-id":"16309",fill:"#34394F"}}),i("path",{attrs:{d:"M651.264 466.944 532.48 466.944 532.48 348.16C532.48 335.872 520.192 327.68 512 327.68S491.52 335.872 491.52 348.16l0 118.784L372.736 466.944c-12.288 0-20.48 8.192-20.48 20.48s8.192 20.48 20.48 20.48L491.52 507.904l0 118.784c0 12.288 8.192 20.48 20.48 20.48s20.48-8.192 20.48-20.48l0-118.784 118.784 0c12.288 0 20.48-8.192 20.48-20.48S659.456 466.944 651.264 466.944z","p-id":"16310",fill:"#34394F"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.zoom(-.2)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505340569",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2305",width:"30",height:"30"}},[i("path",{attrs:{d:"M747.3152 732.3136l177.408 177.408a25.6 25.6 0 0 1-36.1984 36.1984l-179.8144-179.8144a382.5664 382.5664 0 0 1-232.96 78.6944 384 384 0 1 1 384-384 25.6 25.6 0 1 1-51.2 0 332.8 332.8 0 1 0-28.1088 134.1952 25.6 25.6 0 0 1 46.848 20.6848 384.6656 384.6656 0 0 1-79.9744 116.6336zM296.6016 435.2h358.4a25.6 25.6 0 1 1 0 51.2h-358.4a25.6 25.6 0 0 1 0-51.2z",fill:"#34394F","p-id":"2306"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.move(0,-10)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505449083",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4447",width:"28",height:"28"}},[i("path",{attrs:{d:"M512 957.2c-11 0-20-9-20-20V116.6c0-11 9-20 20-20s20 9 20 20v820.6c0 11.1-9 20-20 20z","p-id":"4448",fill:"#34394F"}}),i("path",{attrs:{d:"M885 479.8c-5.1 0-10.2-2-14.1-5.9L512 115.1 153.1 473.9c-7.8 7.8-20.5 7.8-28.3 0s-7.8-20.5 0-28.3l373-373c7.8-7.8 20.5-7.8 28.3 0l373 373c7.8 7.8 7.8 20.5 0 28.3-3.9 3.9-9 5.9-14.1 5.9z","p-id":"4449",fill:"#34394F"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.move(0,10)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505486470",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1416",width:"28",height:"28"}},[i("path",{attrs:{d:"M512 66.8c11 0 20 9 20 20v820.6c0 11-9 20-20 20s-20-9-20-20V86.8c0-11.1 9-20 20-20z","p-id":"1417",fill:"#34394F"}}),i("path",{attrs:{d:"M139 544.2c5.1 0 10.2 2 14.1 5.9L512 908.9 870.9 550c7.8-7.8 20.5-7.8 28.3 0s7.8 20.5 0 28.3l-373 373c-7.8 7.8-20.5 7.8-28.3 0l-373-373c-7.8-7.8-7.8-20.5 0-28.3 3.9-3.8 9-5.8 14.1-5.8z","p-id":"1418",fill:"#34394F"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.move(-10,0)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505510048",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1847",width:"28",height:"28"}},[i("path",{attrs:{d:"M957.2 512c0 11-9 20-20 20H116.6c-11 0-20-9-20-20s9-20 20-20h820.6c11.1 0 20 9 20 20z","p-id":"1848",fill:"#34394F"}}),i("path",{attrs:{d:"M479.8 139c0 5.1-2 10.2-5.9 14.1L115.1 512 474 870.9c7.8 7.8 7.8 20.5 0 28.3s-20.5 7.8-28.3 0l-373-373c-7.8-7.8-7.8-20.5 0-28.3l373-373c7.8-7.8 20.5-7.8 28.3 0 3.8 3.9 5.8 9 5.8 14.1z","p-id":"1849",fill:"#34394F"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.move(10,0)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680505560255",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2789",width:"28",height:"28"}},[i("path",{attrs:{d:"M66.8 512c0-11 9-20 20-20h820.6c11 0 20 9 20 20s-9 20-20 20H86.8c-11.1 0-20-9-20-20z","p-id":"2790",fill:"#34394F"}}),i("path",{attrs:{d:"M544.2 885c0-5.1 2-10.2 5.9-14.1L908.9 512 550.1 153.1c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l373 373c7.8 7.8 7.8 20.5 0 28.3l-373 373c-7.8 7.8-20.5 7.8-28.3 0-3.9-3.9-5.9-9-5.9-14.1z","p-id":"2791",fill:"#34394F"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.rotate(90)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680504470726",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12025",width:"28",height:"28"}},[i("path",{attrs:{d:"M961.45 362.18V137.45l-96.93 96.93C781.45 128.89 652.62 61.16 507.58 62.57 271.24 64.85 72.15 257.78 62.9 493.94 52.86 750.39 257.78 961.45 512 961.45c166.26 0 311.09-90.52 388.83-224.73h-43.78C775.39 861.87 627.8 940.06 463.37 921.2c-187.7-21.52-339.93-174.33-360.76-362.11C75.05 310.47 268.94 100 512 100c132.91 0 250.39 63.49 325.7 161.21L736.73 362.18h224.72z",fill:"#34394F","p-id":"12026"}})])]),i("div",{class:{"oper-item":!0},on:{click:function(e){return t.rotate(-90)}}},[i("svg",{staticClass:"icon",attrs:{t:"1680504521488",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13149",width:"28",height:"28"}},[i("path",{attrs:{d:"M62.55 362.18V137.45l96.93 96.93c83.08-105.5 211.91-173.22 356.95-171.82 236.33 2.29 435.43 195.21 444.68 431.38C971.14 750.39 766.22 961.45 512 961.45c-166.26 0-311.09-90.52-388.83-224.73h43.78C248.61 861.87 396.2 940.06 560.63 921.2c187.7-21.52 339.93-174.33 360.76-362.11C948.95 310.47 755.06 100 512 100c-132.91 0-250.39 63.49-325.7 161.21l100.97 100.97H62.55z",fill:"#34394F","p-id":"13150"}})])]),i("div",{class:{"oper-item":!0}},[i("span",{staticClass:"btn",attrs:{title:"确定"},on:{click:function(e){t.crop(),t.itemindex=-1}}},[t._v("确定")])]),i("div",{class:{"oper-item":!0}},[i("span",{staticClass:"btn",attrs:{title:""},on:{click:function(e){t.closeLayer(),t.itemindex=-1}}},[t._v("取消")])])]),i("div",{class:{"show-preview":t.showPreview},attrs:{id:"preview"}})])},o=[],r=i(98996),c=i.n(r),a=(i(68354),{name:"CropperBox",data(){return{imgUrl:"",cropper:null,canOper:!1,showPreview:!1,scale_X:1,scale_Y:1,isshowbtn:!0,itemindex:-1}},mounted(){},methods:{init(t,e){let i=this;i.isshowbtn=0==e,i.imgUrl=t,setTimeout((function(){let t=document.getElementById("image");i.cropper=new(c())(t,{viewMode:1,dragMode:"move",preview:document.getElementById("preview"),responsive:!0,restore:!0,checkCrossOrigin:!1,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!1,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minContainerWidth:document.documentElement.clientWidth-50,minContainerHeight:document.documentElement.clientHeight,minCanvasWidth:150,minCanvasHeight:150,minCropBoxWidth:150,minCropBoxHeight:150,ready:()=>{i.canOper=!0},cropstart(){},cropmove(){},cropend(){},crop(){},zoom(){}})}),0)},replace(t){this.imgUrl=t},crop1(){if(0==this.itemindex)return this.reset(),void(this.itemindex=-1);this.itemindex=0,this.cropper.crop()},crop(){if(this.canOper){let t=document.querySelector(".cropper-crop-box");t.offsetWidth,t.offsetHeight;const e=this.cropper.getData(!0);e.width,e.height;const i=this.cropper.getCanvasData();i.naturalHeight,i.naturalWidth;let s={imageSmoothingQuality:"high",fillColor:"#FFFFFF"},o=this.cropper.getCroppedCanvas(s).toDataURL("image/jpeg");this.$parent.CropperFinish(o),this.imgUrl="",this.cropper.destroy()}else this.$message.error("Cropper 还没有准备就绪")},reset(){this.canOper?(this.cropper.clear(),this.cropper.reset()):this.$message.error("Cropper 还没有准备就绪")},move(t,e){this.canOper?this.cropper.move(t,e):this.$message.error("Cropper 还没有准备就绪")},zoom(t){this.canOper?this.cropper.zoom(t):this.$message.error("Cropper 还没有准备就绪")},rotate(t){this.canOper?this.cropper.rotate(t):this.$message.error("Cropper 还没有准备就绪")},closeLayer(){this.imgUrl="",this.cropper.destroy(),this.cropper.clear(),this.cropper.reset(),this.$parent.closeCropper()},getData(){if(this.canOper){const t=this.cropper.getData(!0),e=this.cropper.getContainerData(),i=this.cropper.getImageData(),s=this.cropper.getCanvasData(),o=this.cropper.getCropBoxData();console.log("--------- 输出最终裁剪区域的位置和大小数据(基于原始图像的自然大小) ---------"),console.log(t),console.log("--------- 输出容器大小数据 ---------"),console.log(e),console.log("--------- 输出图像的位置、大小和其他相关数据 ---------"),console.log(i),console.log("--------- 输出画布(图像包装器)的位置和大小数据 ---------"),console.log(s),console.log("--------- 输出裁切框的位置和大小数据 ---------"),console.log(o)}else this.$message.error("Cropper 还没有准备就绪")},download(){}}}),n=a,l=i(70713),p=(0,l.Z)(n,s,o,!1,null,"584084d2",null),h=p.exports}}]);