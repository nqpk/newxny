"use strict";(self["webpackChunkstu_project"]=self["webpackChunkstu_project"]||[]).push([[599],{27599:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title w100"},[n("div",{staticClass:"left-box f-l w100"},t._l(t.type,(function(e){return n("a-button",{key:e.id,staticClass:"mr-10",attrs:{type:e.check?"primary":""},on:{click:function(n){return t.SelType(e)}}},[t._v(" "+t._s(e.name)+" ")])})),1),n("div",{staticClass:"rigth-box f-r txt-r"},[n("span",{on:{click:function(e){return t.ShowLabel(0,[])}}},[t._v("筛选")])])]),t.data.length>0?n("div",{staticClass:"question-body"},t._l(t.data,(function(e,i){return n("div",{key:i,staticClass:"question-box"},[n("div",{staticClass:"collect-info w100"},[n("div",{staticClass:"left-box f-l"},[t._v(" 收藏来源： "),n("a-tooltip",[n("template",{slot:"title"},[t._v(" "+t._s(e.content.courseName)+" ")]),n("a",[t._v(t._s(e.content.courseName))])],2),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("收藏时间："+t._s(t.formatTime(e.content.createTime)))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currindex!=i,expression:"currindex != index"}],staticClass:"right-box f-r"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.content.tagList.length<2,expression:"item.content.tagList.length < 2"}],staticClass:"txt-c",staticStyle:{width:"80px"},on:{click:function(n){return t.ShowLabel(1,e.content,i)}}},[t._v("+")]),t._l(e.content.tagList,(function(a){return n("span",{key:a.id,on:{click:function(n){return t.ShowLabel(1,e.content,i)}}},[t._v(t._s(a.tagName))])}))],2)]),n("div",{class:["con-box",t.currindex==i?"active":""],on:{click:function(e){return t.ChoiceQuestion(i)}}},[n("div",[e.contentType>1?n("span",[0==e.content.content.childList.length?n("span",[n("a-tag",{attrs:{color:"#636f9f"}},[t._v("题号："+t._s(e.content.content.questionNumber))])],1):n("span",[n("a-tag",{attrs:{color:"#636f9f"}},[t._v("题号："+t._s(e.content.content.childList[0].questionNumber))]),n("span",{staticClass:"mr-5"},[t._v("- ")]),n("a-tag",{attrs:{color:"#636f9f"}},[t._v("题号："+t._s(e.content.content.childList[e.content.content.childList.length-1].questionNumber))])],1),n("a-tag",[t._v("分数："+t._s(e.content.content.questionScore))])],1):t._e(),e.content.content.attachmentEntityList?n("span",{staticStyle:{"margin-left":"5px"}},[t._l(e.content.content.attachmentEntityList.filter((function(t){return 1===t.attachmentMappingType})),(function(e){return[2===e.attachmentType?n("a-icon",{key:e.id,style:{fontSize:"18px",color:"#FF5B5B"},attrs:{type:"file-pdf"},on:{click:function(n){return t.viewFile(1,e)}}}):t._e(),3===e.attachmentType?n("img",{key:e.id,staticStyle:{width:"18px",cursor:"pointer"},attrs:{src:0==e.mustHandleSwitch?t.imgsrc1:t.imgsrc2},on:{click:function(n){return n.stopPropagation(),t.PlayAudio(e)}}}):t._e(),4===e.attachmentType?n("a-icon",{key:e.id,style:{fontSize:"18px",color:"#00D870"},attrs:{type:"play-square"},on:{click:function(n){return t.annexPreview(e)}}}):t._e()]}))],2):t._e()]),0==e.contentType?n("div",{staticClass:"txt mt-5",domProps:{innerHTML:t._s(e.content.content.textContent)}}):1==e.contentType?n("div",{staticClass:"file mt-5"},[".mp3"==e.content.content.attachmentExtraName?n("div",{staticClass:"mp3"},[n("a-icon",{style:{fontSize:"32px",color:t.GetIconColor(e.content.content.attachmentExtraName),marginRight:"10px",position:"relative",top:"8px"},attrs:{type:t.getFileIcon(e.content.content.attachmentExtraName)}}),n("span",[t._v(t._s(e.content.content.attachmentName))]),n("audio",{staticStyle:{position:"relative",top:"20px",left:"10px"},attrs:{controls:"controls",loop:"loop",src:"/exam"+e.content.content.attachmentLinkAddress,controlslist:"nodownload"}})],1):t._e(),"0"==e.content.content.attachmentType||"1"==e.content.content.attachmentType||"2"==e.content.content.attachmentType?n("div",{staticClass:"file"},[n("a-icon",{style:{fontSize:"32px",color:t.GetIconColor(e.content.content.attachmentExtraName),marginRight:"10px",position:"relative",top:"8px"},attrs:{type:t.getFileIcon(e.content.content.attachmentExtraName)}}),n("span",{on:{click:function(n){return n.stopPropagation(),t.PreviewFile(e)}}},[t._v(t._s(e.content.content.attachmentName))])],1):t._e(),".mp4"==e.content.content.attachmentExtraName?n("div",{staticClass:"mp4"},[n("a-icon",{style:{fontSize:"32px",color:t.GetIconColor(e.content.content.attachmentExtraName),marginRight:"10px",position:"relative",top:"8px"},attrs:{type:t.getFileIcon(e.content.content.attachmentExtraName)}}),n("span",{on:{click:function(n){return n.stopPropagation(),t.PreviewFile(e)}}},[t._v(t._s(e.content.content.attachmentName))])],1):t._e()]):2==e.contentType?n("div",{staticClass:"txt mt-5"},[n("div",[n("span",{staticClass:"ques-title",domProps:{innerHTML:t._s(e.content.content.questionStem)}})])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currindex==i,expression:"currindex == index"}],staticClass:"answer-box"},[[0,1].includes(e.content.content.questionType)?n("div",{staticClass:"objective"},[0==e.content.content.childList?[n("span",{staticClass:"error-box"},[t._v(" "+t._s(null==e.content.content.stuAnswer||""==e.content.content.stuAnswer?"未作答":e.content.content.stuAnswer)+" "),""!=t.getQuestionErrorContent(e.content.content.id)?n("span",{class:["badge-box","badge"+t.getQuestionErrorContent(e.content.content.id)]},[t._v(t._s(t.getQuestionErrorContent(e.content.content.id)))]):t._e()]),n("span",{staticClass:"ml-10"},[0===e.content.content.judgeTag?n("a-icon",{staticClass:"icon error",attrs:{type:"close"}}):t._e(),1===e.content.content.judgeTag?n("a-icon",{staticClass:"icon true",attrs:{type:"check"}}):t._e(),2===e.content.content.judgeTag?n("i",{staticClass:"icon iconfont lx-partially-line partRight",staticStyle:{"font-size":"26px"}}):t._e()],1)]:t._l(e.content.content.childList,(function(e){return n("div",{key:e.id,staticClass:"mt-3"},[n("b",{staticClass:"tihao-box"},[t._v("题号："+t._s(e.questionNumber))]),n("span",{staticClass:"error-box"},[t._v(" "+t._s(null==e.stuAnswer||""==e.stuAnswer?"未作答":e.stuAnswer)+" "),""!=t.getQuestionErrorContent(e.id)?n("span",{class:["badge-box","badge"+t.getQuestionErrorContent(e.id)]},[t._v(t._s(t.getQuestionErrorContent(e.id)))]):t._e()]),n("span",{staticClass:"ml-10 mt-3"},[0===e.judgeTag?n("a-icon",{staticClass:"icon error",attrs:{type:"close"}}):t._e(),1===e.judgeTag?n("a-icon",{staticClass:"icon true",attrs:{type:"check"}}):t._e(),2===e.judgeTag?n("i",{staticClass:"icon iconfont lx-partially-line partRight",staticStyle:{"font-size":"26px"}}):t._e()],1)])}))],2):[2,3].includes(e.content.content.questionType)&&e.content.content.readAttachmentList&&1==e.content.content.readOverTag?n("div",{staticClass:"subjective"},t._l(e.content.content.readAttachmentList.slice(0,1),(function(i,a){return n("span",{key:i.id,staticClass:"img-box",class:{errorBorder:0==e.content.content.studentScore,trueBorder:e.content.content.studentScore==e.content.content.questionScore,partRightBorder:e.content.content.studentScore>0&&e.content.content.studentScore<e.content.content.questionScore},on:{click:function(n){return n.stopPropagation(),t.previewImg(a,e.content.content.readAttachmentList,e.content.content)}}},[0==e.content.content.studentScore?n("i",{staticClass:"iconfont lx-wrong"}):t._e(),e.content.content.studentScore==e.content.content.questionScore?n("i",{staticClass:"iconfont lx-right"}):t._e(),e.content.content.studentScore>0&&e.content.content.studentScore<e.content.content.questionScore?n("i",{staticClass:"iconfont lx-partially"}):t._e(),n("img",{attrs:{src:"/exam"+i.attachmentLinkAddress}}),""!=t.getQuestionErrorContent(e.content.sourceId)?n("span",{class:["badge-box","badge"+t.getQuestionErrorContent(e.content.sourceId)]},[t._v(t._s(t.getQuestionErrorContent(e.content.sourceId)))]):t._e()])})),0):[2,3].includes(e.content.content.questionType)&&e.content.content.stuAttachmentList&&(0==e.content.content.readOverTag||null==e.content.content.readOverTag)?n("div",{staticClass:"subjective"},t._l(e.content.content.stuAttachmentList.slice(0,1),(function(i,a){return n("span",{key:i.id,staticClass:"img-box",on:{click:function(n){return n.stopPropagation(),t.previewImg(a,e.content.content.stuAttachmentList,e.content.content)}}},[n("img",{attrs:{src:"/exam"+i.attachmentLinkAddress}}),""!=t.getQuestionErrorContent(e.content.sourceId)?n("span",{class:["badge-box","badge"+t.getQuestionErrorContent(e.content.sourceId)]},[t._v(t._s(t.getQuestionErrorContent(e.content.sourceId)))]):t._e()])})),0):(null==e.content.content.readAttachmentList||0==e.content.content.readAttachmentList.length)&&e.contentType>1?n("div",{staticClass:"mt-20"},[n("span",{staticClass:"empty-img-box"},[t._v(" 未作答 ")])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:(e.content.content.asked||null!=e.content.content.askShareDTOList&&e.content.content.askShareDTOList.length>0)&&t.currindex==i,expression:"\n                (item.content.content.asked ||\n                (item.content.content.askShareDTOList != null && item.content.content.askShareDTOList.length > 0)) && currindex == index\n              "}],staticClass:"btn-area",staticStyle:{"padding-left":"10px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.content.content.asked,expression:"item.content.content.asked"}],class:["btn",e.content.content.read||e.content.content.replayRedTag?"btn2":"btn1"],on:{click:function(n){return n.stopPropagation(),t.MyQuestion(e.content)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.content.content.replayRedTag,expression:"item.content.content.replayRedTag"}],staticClass:"speck"}),t._v(" "+t._s(e.content.content.read||e.content.content.replayRedTag?"!":"?")+" 我的提问 ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.content.content.askShareDTOList&&e.content.content.askShareDTOList.length>0,expression:"\n                  item.content.content.askShareDTOList != null &&\n                  item.content.content.askShareDTOList.length > 0\n                "}]},t._l(e.content.content.askShareDTOList,(function(e){return n("div",{key:e.id,staticClass:"btn btn2",on:{click:function(n){return n.stopPropagation(),t.shareWindos(e)}}},[n("a-icon",{attrs:{type:"share-alt"}}),t._v(" "+t._s(e.studentName)+" ")],1)})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.content.content.paperCommentingTag,expression:"item.content.content.paperCommentingTag"}],staticClass:"btn-area",staticStyle:{"padding-left":"15px"}},[n("div",{staticClass:"btn3",on:{click:function(n){return n.stopPropagation(),t.getPaperCommenting(e)}}},[t._v(" 试题讲评 ")])]),2==e.contentType?n("div",{staticClass:"mt-20"},[n("div",{staticClass:"c-24469F"},[t._v("【答案】")]),n("div",{staticClass:"questionAnswer",domProps:{innerHTML:t._s(e.content.content.answer)}}),n("div",{staticClass:"c-24469F"},[t._v("【解析】")]),n("div",{staticClass:"questionAnalysis",domProps:{innerHTML:t._s(e.content.content.questionAnalysis)}}),n("div",{staticClass:"c-24469F"},[t._v("【追加解析】")]),n("div",{staticClass:"questionAnalysis",domProps:{innerHTML:t._s(e.content.content.addToQuestionAnalysis)}}),e.content.content.attachmentEntityList?n("div",{staticClass:"annex"},[n("div",{staticClass:"c-24469F"},[t._v("【附件】")]),n("div",{staticClass:"annexBox"},[n("a-space",{attrs:{size:10}},t._l(e.content.content.attachmentEntityList.filter((function(t){return 1!==t.attachmentMappingType})),(function(e){return n("div",{key:e.id,staticClass:"fileItem",on:{click:function(n){return n.stopPropagation(),t.annexPreview(e)}}},[n("div",{staticClass:"iconBox"},[n("a-icon",{style:{fontSize:"32px",color:t.GetIconColor(e.attachmentExtraName),marginRight:"10px"},attrs:{type:t.getFileIcon(e.attachmentExtraName)}})],1),n("div",{staticClass:"annexfileName"},[t._v(" "+t._s(e.attachmentName)+" ")])])})),0)],1)]):t._e()]):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currindex==i&&null!=e.content.content.kls&&e.content.content.kls.length>0,expression:"\n                currindex == index &&\n                item.content.content.kls != null &&\n                item.content.content.kls.length > 0\n              "}],staticClass:"info-con"},t._l(e.content.content.kls,(function(e){return n("div",{key:e.id,staticClass:"info-text mt-5"},[t._v(" "+t._s(e.libName)+" ")])})),0),n("div",{staticClass:"delete",on:{click:function(n){return t.DeleteItme(i,e)}}},[t._v("删除")])])])})),0):n("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center",height:"calc(100vh - 150px)",width:"100%"}},[n("a-empty")],1)]),n("a-modal",{attrs:{width:870,title:"文件预览",footer:null},on:{cancel:t.CloseFilePreview},model:{value:t.FilePreviewWin,callback:function(e){t.FilePreviewWin=e},expression:"FilePreviewWin"}},[""!=t.previewfilePath&&".mp4"!=t.previewfileItem.attachmentExtraName?n("iframe",{staticStyle:{height:"500px","overflow-y":"auto"},attrs:{src:""+t.previewfilePath,width:"100%",frameborder:"0"}}):".mp4"==t.previewfileItem.attachmentExtraName||".aiv"==t.previewfileItem.attachmentExtraName?n("video",{ref:"myVideo",staticStyle:{height:"500px","overflow-y":"auto"},attrs:{controls:"controls",controlslist:"nodownload",loop:"loop",src:""+t.previewfilePath,width:"100%"}}):[t._v("暂时无法预览")]],2),n("a-modal",{attrs:{width:600,title:"选择标签",footer:null},on:{cancel:function(e){t.labelWin=!1,t.labelWinType=0,t.inputLabel=""}},model:{value:t.labelWin,callback:function(e){t.labelWin=e},expression:"labelWin"}},[[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.labelWinType,expression:"labelWinType == 1 "}],staticClass:"add"},[n("a-input",{attrs:{placeholder:"请输入新标签； 最多两个标签请用'，'隔开",maxLength:50,allowClear:!0},model:{value:t.inputLabel,callback:function(e){t.inputLabel=e},expression:"inputLabel"}})],1),n("div",{staticStyle:{height:"280px","margin-top":"10px","overflow-y":"auto"}},t._l(t.label,(function(e,i){return n("span",{key:e.id,class:["label",e.check?"label_active":""],on:{click:function(n){return t.SelLabel(e,i)}}},[t._v(t._s(e.tagName))])})),0),n("div",{staticClass:"btn-box txt-r"},[n("a-button",{staticStyle:{"margin-right":"15px"},on:{click:function(e){t.labelWin=!1,t.labelWinType=0,t.inputLabel=""}}},[t._v("取消")]),n("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.getCollectCondition()}}},[t._v(" 确定 ")])],1)]],2),n("ShareLayer",{directives:[{name:"show",rawName:"v-show",value:t.isShareLayer,expression:"isShareLayer"}],ref:"share",attrs:{askShareDTOList:t.askShareDTOList}}),n("DiscussArea",{directives:[{name:"show",rawName:"v-show",value:t.isDiscussArea,expression:"isDiscussArea"}],ref:"discuss",attrs:{AskCourseId:t.AskCourseId,AskQuestionId:t.AskQuestionId,contentType:t.contentType}}),n("OneselfReview",{directives:[{name:"show",rawName:"v-show",value:t.isOR,expression:"isOR"}],ref:"review"}),n("CommentBox",{directives:[{name:"show",rawName:"v-show",value:t.comment.isComment,expression:"comment.isComment"}],ref:"comment"}),t.spinning?n("Load"):t._e()],1)},a=[],o=n(78616),s=n(1496),c=n(68354),r={name:"collection",components:{ShareLayer:()=>n.e(415).then(n.bind(n,68069)),DiscussArea:()=>Promise.all([n.e(580),n.e(735)]).then(n.bind(n,19580)),OneselfReview:()=>Promise.all([n.e(775),n.e(915)]).then(n.bind(n,14775)),CommentBox:()=>n.e(504).then(n.bind(n,60683)),Load:()=>n.e(286).then(n.bind(n,43286))},data(){return{imgsrc1:n(51793),imgsrc2:n(33101),type:[{id:0,name:"文字",check:!1},{id:1,name:"文件",check:!1},{id:2,name:"题",check:!1}],FilePreviewWin:!1,previewfilePath:"",previewfileItem:{},labelWin:!1,labelWinType:0,TeacherItem:{},data:[],isLock:!0,currindex:-1,labelids:[],label:[],checklabel:[],checktype:[],isShareLayer:!1,askShareDTOList:[],isDiscussArea:!1,AskCourseId:"",AskQuestionId:"",contentType:"",CurrContentItem:{},CurrItemIndex:-1,inputLabel:"",ids:[],CurrItem:{},CurrPlayAudio:{},audio:null,playAudio:{src:"",play:!1},isOR:!1,comment:{isComment:!1},ErrorContent:[],spinning:!1}},mounted(){this.getCollectTagList()},watch:{"$route.query.tid":{immediate:!0,handler(t){if(void 0!=t&&""!=t){let t=sessionStorage.getItem("CollectItem-"+this.$route.query.tid);this.TeacherItem=JSON.parse(t),this.currindex=-1,this.getCollectCondition()}}},"$route.query.subid":{immediate:!0,handler(t){if(void 0!=t&&""!=t){let t=sessionStorage.getItem("CollectItem-"+this.$route.query.tid);this.TeacherItem=JSON.parse(t),this.currindex=-1,this.getCollectCondition()}}}},computed:{},created(){},methods:{formatTime(t){let e=new Date(t);return e.getFullYear()+"."+(e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1))+"."+(e.getDate()>9?e.getDate():"0"+e.getDate())},getFileIcon(t){return(0,c.MR)(t)},GetIconColor(t){return(0,c.Nt)(t)},ShowLabel(t,e,n){let i=this;"undefined"!=typeof i.TeacherItem.teacherUserId?(i.CurrContentItem=e,i.CurrItemIndex=n,i.labelWin=!i.labelWin,i.labelids=[],i.checklabel=[],i.label.forEach((t=>{t.check=!1})),1==t&&e.tagList.forEach((t=>{i.labelids.push(t.id),i.label.forEach((e=>{t.id==e.id&&(e.check=!0)}))})),i.labelWinType=t):i.$message.warning("请先选择一个目录")},getCollectTagList(){let t=this;(0,s.Sj)().then((e=>{if(0==e.code){t.label=e.extra;let n=[];e.extra.forEach((t=>{t.check=!1,n.push(t)}))}}))},getCollectCondition(){let t=this;0==t.labelWinType?(t.labelWin&&t.label.forEach((e=>{e.check&&t.checklabel.push(e.id)})),t.spinning=!0,(0,o.B$)({subjectId:t.TeacherItem.subjectId,teacherId:t.TeacherItem.teacherUserId,contentType:t.checktype,tagIds:t.checklabel}).then((e=>{t.data=e.extra,t.GetErrorContent(),t.spinning=!1})),t.labelWin=!1):t.UpdateResourceTag()},GetErrorContent(){let t=this;const e=JSON.parse(sessionStorage.getItem("course_userInfo")).userId;t.data.forEach((n=>{2==n.contentType&&((0,s.vz)(0==n.content.type?{questionId:n.content.content.id,studentId:e,courseId:n.content.courseId}:{questionId:n.content.content.id,studentId:e,paperId:n.content.courseId}).then((e=>{e.extra.length>0&&t.ErrorContent.push(e.extra[0])})),n.content.content.childList.length>0&&n.content.content.childList.forEach((i=>{(0,s.vz)(0==n.content.type?{questionId:i.id,studentId:e,courseId:n.content.courseId}:{questionId:i.id,studentId:e,paperId:n.content.courseId}).then((e=>{e.extra.length>0&&t.ErrorContent.push(e.extra[0])}))})))}))},getQuestionErrorContent(t){let e=this,n=e.ErrorContent.filter((e=>e.questionId==t));return n.length>0?n[0].wrongCause:""},UpdateResourceTag(){let t=this,e=t.inputLabel.trim(),n=[],i=[],a=0;for(let o=0;o<t.label.length;o++)t.label[o].check&&n.push({id:t.label[o].id});if(""!=e){e=e.replaceAll("，",","),e=","==e.substr(e.length-1,1)?e.substr(0,e.length-1):e,i=e.split(",");let n=!1;for(let t=0;t<i.length;t++)if(i[t].length>16){n=!0;break}if(n)return void t.$message.warning("每个标签最多16个字");a=i.length}if(n.length+a>2)t.$message.warning("每个资源最多设置两个标签");else{if(a>0){let e=0;i.forEach((i=>{(0,s.kw)({tagName:i}).then((o=>{e++,n.unshift({id:o.extra.id}),t.label.unshift({id:o.extra.id,tagName:i}),e==a&&t.deleteResourcesTag(n)}))}))}else t.deleteResourcesTag(n);t.labelWin=!1}},deleteResourcesTag(t){let e=this;if(e.labelids.length>0){let n=[];for(let t=0;t<e.labelids.length;t++)n.push({id:e.labelids[t]});(0,s.Eq)({sourceId:e.CurrContentItem.sourceId,sourceType:e.CurrContentItem.sourceType,courseId:e.CurrContentItem.courseId,tagList:n,type:e.CurrContentItem.type}).then((n=>{0==n.code&&e.AddCollectEntity(t)}))}else e.AddCollectEntity(t)},AddCollectEntity(t){let e=this;if(0==t.length)return e.data[e.CurrItemIndex].content.tagList=[],void e.$set(e.data,e.CurrItemIndex,e.data[e.CurrItemIndex]);(0,s.uO)("PUT",{sourceId:e.CurrContentItem.sourceId,sourceType:e.CurrContentItem.sourceType,courseId:e.CurrContentItem.courseId,tagList:t,type:e.CurrContentItem.type}).then((()=>{e.labelids=[],e.CurrContentItem={},e.checklabel=[],e.labelWinType=0,e.inputLabel="",e.$message.success("标签修改成功");let n=[];e.label.forEach((e=>{t.forEach((t=>{e.id==t.id&&n.push({id:e.id,tagName:e.tagName})})),e.check=!1})),e.data[e.CurrItemIndex].content.tagList=n,e.$set(e.data,e.CurrItemIndex,e.data[e.CurrItemIndex])}))},ChoiceQuestion(t){this.currindex=t==this.currindex?-1:t},DeleteItme(t,e){let n=this;this.$confirm({title:"⚠警告",content:"删除未不可恢复操作，确认要删除该收藏信息吗？",okText:"确认",cancelText:"取消",onOk(){(0,o.qI)({sourceId:e.content.sourceId,sourceType:e.content.sourceType,courseId:e.content.courseId,type:e.content.type}).then((e=>{0==e.code&&n.data.splice(t,1)}))}})},PreviewFile(t){this.PreviewFileWin(t.content.content,t.content.content.attachmentLinkAddress,t.content.content.attachmentExtraName)},annexPreview(t){this.PreviewFileWin(t,t.attachmentLinkAddress,3==t.attachmentType?".mp3":4==t.attachmentType?".mp4":".pdf")},PreviewFileWin(t,e,n){let i=this;switch(console.log(t),i.previewfileItem=t,n){case".pdf":case".doc":case".docx":case".ppt":case".pptx":i.previewfilePath="/exam/pdf/web/viewer.html?file=/exam"+e;break;default:i.previewfilePath="/exam"+e;break}i.FilePreviewWin=!0},CloseFilePreview(){this.previewfilePath="",this.FilePreviewWin=!1},SelType(t){let e=this;if("undefined"!=typeof e.TeacherItem.teacherUserId){if(t.check=!t.check,t.check)e.checktype.push(t.id);else for(let n=0;n<e.checktype.length;n++)if(e.checktype[n]==t.id){e.checktype.splice(n,1);break}e.getCollectCondition()}else e.$message.warning("请先选择一个目录")},SelLabel(t,e){let n=this;t.check=!t.check,n.$set(n.label,e,t)},choseShareWin(){this.isShareLayer=!1},shareWindos(t){let e=this;e.isShareLayer=!0,e.$refs.share.ShareDTOList(t)},MyQuestion(t){let e=this;t.content.read=!!t.content.replayRedTag||t.content.read,t.content.replayRedTag=!1,e.AskCourseId=t.courseId,e.AskQuestionId=t.sourceId,e.contentType=t.sourceType,e.isDiscussArea=!0,e.CurrItem=t,e.$refs.discuss.GetAskList(t.type)},closeDisussArea(t){this.CurrItem.replayRedTag=!1,this.CurrItem.asked=!!t||this.data.asked,this.CurrItem.read=!t,this.isDiscussArea=!1},PlayAudio(t){let e=this;e.audio=null==e.audio?document.createElement("audio"):e.audio,document.body.appendChild(e.audio),e.audio.style.display="none",e.CurrPlayAudio.mustHandleSwitch=0,e.playAudio.src=="/exam"+t.attachmentLinkAddress?e.playAudio.play?(e.audio.pause(),e.playAudio.play=!1,t.mustHandleSwitch=0):(e.audio.play(),e.playAudio.play=!0,t.mustHandleSwitch=1):(e.audio.src="/exam"+t.attachmentLinkAddress,e.audio.play(),t.mustHandleSwitch=1,e.playAudio.play=!0,e.playAudio.src="/exam"+t.attachmentLinkAddress),e.CurrPlayAudio=t,e.audio.addEventListener("ended",(function(){e.audio.src="",t.mustHandleSwitch=0}),!1)},previewImg(t,e,n){let i=this,a=JSON.parse(sessionStorage.getItem("course_userInfo")).userId,o=[],s={courseId:n.courseId,questionId:n.id,questionNumber:n.questionNumber,questionIndex:n.questionIndex,studentId:a,firstQuestionId:n.id,studentScore:n.studentScore,judgeTag:n.judgeTag,readOverTag:n.readOverTag,teacherReadOverContent:n.teacherReadOverContent,resubmitTag:n.resubmitTag};o.push(s),n.childList.length>0&&n.childList.map(((t,e)=>{o.push({courseId:n.courseId,questionId:t.id,questionNumber:t.questionNumber,questionIndex:t.questionIndex,studentId:a,firstQuestionId:n.id,studentScore:t.studentScore,judgeTag:t.judgeTag,readOverTag:t.readOverTag,teacherReadOverContent:t.teacherReadOverContent,resubmitTag:t.resubmitTag})})),i.$refs.review.SetORData(t,e,n,o,i.currindex,1,0,1,0,null,i.ErrorContent),i.isOR=!0},CloseOneselfReviewWindows(t,e,n){let i=this,a=sessionStorage.getItem("selfReadOverSwitch");e>=0&&1==a&&(i.data[t].content.content.studentScore=n),this.isOR=!1},getPaperCommenting(t){let e=this;e.comment.isComment=!0,e.$refs.comment.getPaperCommenting(t.content.content,1)},CloseCommentBox(){this.comment.isComment=!1}}},l=r,A=n(70713),d=(0,A.Z)(l,i,a,!1,null,"50f8b544",null),u=d.exports},78616:function(t,e,n){n.d(e,{B$:function(){return o},EP:function(){return c},PC:function(){return a},qI:function(){return s}});var i=n(18442);function a(){return(0,i.hi)(Object.assign((0,i.aP)("GET"),{url:`${i.jz}/api/collect/catalog`}))}function o(t){return(0,i.hi)(Object.assign((0,i.aP)("POST",t),{url:`${i.jz}/api/collect/condition`}))}function s(t){return(0,i.hi)(Object.assign((0,i.aP)("DELETE",t),{url:`${i.jz}/api/collect/entity`}))}function c(t){return(0,i.hi)(Object.assign((0,i.aP)("GET"),{url:`${i.jz}/api/ask/share/${t}/detail`}))}},51793:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAHlGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuZWRhMmIzZmFjLCAyMDIxLzExLzE3LTE3OjIzOjE5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjMuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDctMDZUMTk6MzE6MjErMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA3LTA2VDE5OjQyOjUxKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA3LTA2VDE5OjQyOjUxKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkiIHBob3Rvc2hvcDpIaXN0b3J5PSIyMDIyLTA3LTA2VDE5OjI0OjM5KzA4OjAwJiN4OTvmlofku7Yg5pyq5qCH6aKYLTEg5bey5omT5byAJiN4QTsyMDIyLTA3LTA2VDE5OjM1OjMzKzA4OjAwJiN4OTvmlofku7YgX+acquagh+mimC0xNTg1NjRFMDJFRDEyQzk4MjFFQTlDQjNBRENDRTM3RjkucHNiIOW3suWtmOWCqCYjeEE7MjAyMi0wNy0wNlQxOTozODo0NyswODowMCYjeDk75paH5Lu2IOivremfsy3pnZkucG5nIOW3suWtmOWCqCYjeEE7MjAyMi0wNy0wNlQxOTo0Mjo1MSswODowMCYjeDk75paH5Lu2IOivremfsy3pnZkucG5nIOW3suWtmOWCqCYjeEE7IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVmYzExNWNhLWNjZTYtNDEzYy04MTE4LTFmNjViMWZiMmIyNCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjk5ZjkwNWI0LWY0MTktMTc0My05NjczLWQyYTJiNjZkYjdkNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjIyMzAyMTk3LTE2NGYtNDFhNS05NTk4LWM5MmY5MjA0MjZkMiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjIzMDIxOTctMTY0Zi00MWE1LTk1OTgtYzkyZjkyMDQyNmQyIiBzdEV2dDp3aGVuPSIyMDIyLTA3LTA2VDE5OjMxOjIxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuMSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZmMxMTVjYS1jY2U2LTQxM2MtODExOC0xZjY1YjFmYjJiMjQiIHN0RXZ0OndoZW49IjIwMjItMDctMDZUMTk6NDI6NTErMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpWuUFUAAAOFSURBVGiB1dlPjF5TGMfxj5lRhhKCdpoubESVooI0khK1tBSkhCYTov4tSiIRiVhUrLqQSIhIJCTaLspCwrb+JGxIBZGwoDFVjVZD6bTVqdfizKSvO8+5505473vnl9zFPPf87vt877nnnue5o9fryR0t6Bo8jdEmg8MchwiwCnvRw8tNDF0CuAxTs8nPHS8sFoBrsa+S/NwxuVCAkUFlWaMRLMmcewVXL+hqQ3qE1uBX8SzswXjTXIe5iDfgeAZi62IAgM0ZgL+ktdJ5ANiRgdi1WABWYH8G4rZhAVxV/fGCHswAvDMMgCulHfYkNjb0jOPLAGAaq9sEWI1v+xI4idsbejcGAD1sawtgHb4PEjgszUpJS/Fz4P8GY20AbA1+fO74FGc3uMa2wHtK2vhaeYQmpccmgniygX8NZgLvc20BwBMZgB9xUcF7pn+vobnjA4y0+RrdlYHY0sD7VuD7CSuiHAdVjT4jPUpV3dHA+1kQW4ZLo8GDAvgOO4P4WiwveD+W7nq/xvxHgOW4FTfJ1/JVvRHEzsP6gm8KR4L4ymhwE4CH8AV24xN8JIGU9FUmkRsLviMZ38XR4BLAJryKib7YOrwvNeV1OiwVaVVNBLF+ncDRIH5+NLgEsCUTv0CamTrN4I8gfm7B97cEUVX46JYArqg5V5oBOCOINXk/N/aVAH6pOXeo4D0LFwbx3wu+UXHZcTwaXALYXnNuR8E7IX5zTBV841JhV9Vv4ejCTnyO9D7v3xVPSOVCSXeKd+MNBd9K/Bn4Ho9yHCtcbBr34HVcP/v3bqn5KOnRIHYQnxd8l4sX+r5w9IBqoVvEd//dBt5nA98xrG2rFlqqr4uqqLRu4IYgtl+qZudrADPwmvju75HK5TqNm//Rt4f3crn+nwBLpLWS68qaVKLrM97Ngwa4GR/WJL9dvDlV9WbgPWa2Eh0kwAM1yX+NSxpcY5m0yUX9tEEDEPfDBzQrOci3ok+1BQD3Od2U79XscwqpVD4QJH9QXxndVk88ibdlOqiMng+S7+Gl/kFtNvUL0XVS/V9N/qi+z4pdBRiTurzo7s/bDLsI8GIm+UPSZ/dOAzyWSb6H+yNDlwDukv6NFCW/U2bT6wLAKO6W+t4o+R+kfjtUFwBWSV+bo+SnpTdSVl0AGMG95s/AjNTB1aoLAHPa5PSOfQoPNzF1CYD0j70pPNLUEOX4D6iZZ0OHW6EAAAAAAElFTkSuQmCC"},33101:function(t){t.exports="data:image/gif;base64,R0lGODlhMAAwAPehAAQEBB8fH9jY2I6Ojp6entXV1ejo6MbGxuDg4Pn5+QkJCQMDA19fX3l5edHR0SYmJggICBgYGDU1Nfv7+wUFBfPz8/b29r6+vldXV6GhodbW1mRkZPz8/DAwMEtLSzExMQYGBjg4OCgoKKenpx0dHebm5lNTUw4ODgEBAZCQkF1dXYaGhtPT07i4uBcXFzc3N/39/b29vXJycnx8fJmZmY2NjXNzc87Ozr+/v7m5ufX19QICAvr6+unp6RUVFaurqxAQEBwcHD09PXd3d/Hx8RoaGrW1tVVVVdDQ0FRUVCEhIREREcHBwcjIyAcHB4+PjwoKCkFBQdTU1KOjozQ0NGFhYT4+Ppubm01NTfj4+FlZWcLCwuvr6+rq6ry8vCsrK/f395iYmIGBgZycnK2traysrOzs7Kampg0NDVJSUiMjI9nZ2Wtra25ubtvb25eXlw8PD1hYWO/v7y8vL6+vryAgIKWlpTk5OVpaWnt7e4qKihsbGxISEsPDw2ZmZoeHh+3t7U5OToKCgmxsbGVlZT8/PxkZGcfHx+Tk5KioqC4uLhMTE4CAgCIiIqKiohQUFMvLyykpKc/Pz35+fqqqqkpKSmlpaQsLCy0tLZaWllFRUZOTk6mpqW9vb9LS0pSUlAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmVkYTJiM2ZhYywgMjAyMS8xMS8xNy0xNzoyMzoxOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTQ4QjIyQTJGNTQ0MTFFQzgyMDhFMTFDRkExNjQ4RjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTQ4QjIyQTNGNTQ0MTFFQzgyMDhFMTFDRkExNjQ4RjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NDhCMjJBMEY1NDQxMUVDODIwOEUxMUNGQTE2NDhGOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NDhCMjJBMUY1NDQxMUVDODIwOEUxMUNGQTE2NDhGOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUyAKEALAAAAAAwADAAAAh+AEMJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXHnRAI4DCVbSiAAK1IsDKTPU3AlEAMoPO3fKQKkgaE0PKAMYBcUAZYOlLVDqwLATxICVOVakcMCyq9evYMOKHUu2rNmzaNOqXcu2rcCAACH5BAUyAKEALBEACgAMABwAAAinAEMJDCUlxsCDAgsEADACoUAND0CBAmAEYRMlEiUuKXBwRsaMIcAcJADgI6gaCAeYJGEGoQmTTxCuofBRiEMVH9EYQOjFZBmEPU58HIJwgoiPDBxK+JjEIZWPRxBmUfNxA0IEED6KQfjD5AWEUT76IHKQiUksByss/Xjm4AaTHXgITFDFJCgyArdYsatl4Bi7X7qMLCnRhQCHUxaACsDRYSgCaRA4DAgAIfkEBTIAoQAsGwAAABAAMAAACP8AQwkM5eAPh4EIEwoIAMpSwodugoCa2ODhQCR7JmokYDHUDR8aJzrx1JEFn5CgOljoeMEJyhkdQ4VBSQFJzDgoTcQsYQhljJhXUGqKaQFTSAUaYo5AaSNmhQghI02IaSPkDhYxWSwIySgmjwchC8GIiSdkkRIxB4QEcCgmJBQhE8U0ACdkDaIkQlbsCENESDYxQ80JSSiwopB+YnIAq7GN0yIhJ8VEdCnkppgXUNKJKSgkBEkxA4VsBKijBYkaK8XsgzJMTBWeEXTscSJkiLQo9XTk4iLkIy4d86Ac1PEGlJBQkj6ccIdpx04oF6F9+AklKEcWKVFAieEhB05wQ9YekfNQwA6UCm5YhGEnPKgFPwJn2LrjTWCBV4JkChwQADs="}}]);