"use strict";(self["webpackChunkstu_project"]=self["webpackChunkstu_project"]||[]).push([[415],{68069:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"bg-box box"}),s("div",{staticClass:"con con1"},[s("div",{staticClass:"title w100"},[s("div",{staticClass:"left f-l"},[t._v("分享提问：")]),s("div",{staticClass:"right f-r"},[s("a-icon",{attrs:{type:"close-circle"},on:{click:t.close}})],1)]),s("div",{ref:"content",staticClass:"content-box",attrs:{id:"data-list-content"}},t._l(t.content,(function(e){return s("div",{key:e.id,staticClass:"left-box message-box"},[s("div",{staticClass:"name-box f-l"},[t._v(" "+t._s(t.formatTime(e.createTime))),s("br"),t._v(t._s(t.formatName(e.replayName))+" ")]),0==e.contentType?s("div",{staticClass:"message br-5 p-5 f-l"},[t._v(" "+t._s(e.content)+" ")]):1==e.contentType?s("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img br-5 f-l"},[s("img",{attrs:{src:"/exam"+e.content}})]):2==e.contentType?s("div",[s("div",{staticClass:"mp3 br-5 f-l",style:{width:t.mp3width(e.duration)+"px"},on:{click:function(s){return t.playSounds(e)}}},[s("span",{staticClass:"mp3-fr"},[s("span",[s("img",{staticStyle:{width:"14px"},attrs:{src:0==e.shareSwitch?t.imgsrc1:t.imgsrc2}})]),t._v(" "+t._s(e.duration)+'" ')])])]):t._e()])})),0)]),s("audio",{staticStyle:{display:"none"},attrs:{src:t.audio.src,id:"shareaudio",autoplay:""}},[t._v(" 您的浏览器不支持 audio 标签。 ")])])},i=[],r=s(78616),c=s(68354),o={props:{askShareDTOList:[Array]},data(){return{imgsrc1:s(51793),imgsrc2:s(33101),audiosrc:"",content:[],audio:{src:"",play:!1},currAudioItem:{}}},mounted(){},methods:{formatTime(t){return(0,c.mr)(t)},formatName(t){return(0,c.KY)(t)},close(){this.audio.src="",this.$parent.choseShareWin()},scrollToBottom(){let t=this;setTimeout((()=>{let e=t.$refs.content.clientHeight+t.$refs.content.scrollHeight;var s=document.getElementById("data-list-content");s.scrollTop=e}),200)},ShareDTOList(t){let e=this;(0,r.EP)(t.id).then((t=>{e.content=t.extra,e.scrollToBottom()}))},mp3width(t){return(0,c.y$)(t)},playSounds(t){console.log(t);let e=this;var s=document.querySelector("#shareaudio");e.currAudioItem.shareSwitch=0,e.audio.src=="/exam"+t.content?e.audio.play?(s.pause(),e.audio.play=!1,t.shareSwitch=0):(s.play(),e.audio.play=!0,t.shareSwitch=1):(e.audio.src="/exam"+t.content,s.play(),e.audio.play=!0,t.shareSwitch=1),e.currAudioItem=t,s.addEventListener("ended",(function(){e.audio.src="",t.shareSwitch=0}),!1)}}},n=o,l=s(70713),d=(0,l.Z)(n,a,i,!1,null,"f7121cda",null),u=d.exports}}]);