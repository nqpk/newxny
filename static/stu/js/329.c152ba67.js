"use strict";(self["webpackChunkstu_project"]=self["webpackChunkstu_project"]||[]).push([[329],{23329:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticClass:"bg-box box"}),a("div",{staticClass:"con"},[a("div",{staticClass:"title w100"},[a("div",{staticClass:"left f-l"},[e._v("课程筛选")]),a("div",{staticClass:"right f-r"},[a("a-icon",{attrs:{type:"close-circle"},on:{click:e.close}})],1)]),a("div",{staticClass:"content-box"},[a("div",{staticClass:"l-box"},e._l(e.typeData,(function(t){return a("div",{key:t.id,staticClass:"sub-box"},[a("a-divider",{attrs:{orientation:"left"}},[e._v(e._s(t.name))]),e._l(t.items,(function(t){return a("div",{key:t.name,staticClass:"item-box"},[a("a-checkbox",{model:{value:t.check,callback:function(a){e.$set(t,"check",a)},expression:"sub.check"}},[e._v(e._s(t.name))])],1)}))],2)})),0),a("div",{staticClass:"r-box"},[a("div",{staticClass:"sub-box"},[a("a-divider",{attrs:{orientation:"left"}},[e._v("素养")]),e.attainment.length>0?a("div",{staticClass:"items-box"},e._l(e.attainment,(function(t){return a("div",{key:t.id,staticClass:"item-box"},[a("a-checkbox",{model:{value:t.check,callback:function(a){e.$set(t,"check",a)},expression:"item.check"}},[a("a-tooltip",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.libName))]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.libNumber)+" "+e._s(e.CutString(t.libName))+" ")])],1)],1)})),0):a("div",{staticClass:"kong"},[e._v("暂无素养数据")])],1),a("div",{staticClass:"sub-box"},[a("a-divider",{attrs:{orientation:"left"}},[e._v("能力")]),e.ability.length>0?a("div",{staticClass:"items-box"},e._l(e.ability,(function(t){return a("div",{key:t.id,staticClass:"item-box"},[a("a-checkbox",{model:{value:t.check,callback:function(a){e.$set(t,"check",a)},expression:"item.check"}},[a("a-tooltip",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.libName))]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.libNumber)+" "+e._s(e.CutString(t.libName))+" ")])],1)],1)})),0):a("div",{staticClass:"kong"},[e._v("暂无能力数据")])],1),a("div",{staticClass:"sub-box"},[a("a-divider",{attrs:{orientation:"left"}},[e._v("知识点")]),e.knowledge.length>0?a("div",{staticClass:"items-box"},e._l(e.knowledge,(function(t){return a("div",{key:t.id,staticClass:"item-box"},[a("a-checkbox",{model:{value:t.check,callback:function(a){e.$set(t,"check",a)},expression:"item.check"}},[a("a-tooltip",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.libName))]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.libNumber)+" "+e._s(e.CutString(t.libName))+" ")])],1)],1)})),0):a("div",{staticClass:"kong"},[e._v("暂无知识点数据")])],1)])]),a("div",{staticClass:"footer-box"},[a("a-button",{staticClass:"mr-10",on:{click:e.clear}},[e._v("清空")]),a("a-button",{staticClass:"mr-10",on:{click:e.close}},[e._v("取消")]),a("a-button",{staticClass:"mr-10",attrs:{type:"primary"},on:{click:e.submitData}},[e._v("确定")])],1)])])},c=[],i=a(1496),n=a(68354),l={props:{courseId:[Number]},data(){return{typeData:[{name:"文字",id:0,items:[{name:"文字",check:!1},{name:"重点",check:!1}]},{name:"文件",id:1,items:[{name:"word",check:!1},{name:"ppt",check:!1},{name:"pdf",check:!1},{name:"音频",check:!1},{name:"视频",check:!1},{name:"必办",check:!1}]},{name:"题",id:2,items:[{name:"单选",check:!1},{name:"不定项",check:!1},{name:"填空",check:!1},{name:"简答",check:!1},{name:"必做",check:!1}]},{name:"难度",id:3,items:[{name:"基础",check:!1},{name:"中等",check:!1},{name:"困难",check:!1}]}],typeDataCopy:[],attainment:[],ability:[],knowledge:[]}},mounted(){let e=this;e.$bus.on("CancelSelect",(t=>{e.clear()}))},methods:{getCourseEntities(){let e=this,t=sessionStorage.getItem(""+e.courseId),a=sessionStorage.getItem("coursefilter-attainment-"+e.courseId),s=sessionStorage.getItem("coursefilter-ability-"+e.courseId),c=sessionStorage.getItem("coursefilter-knowledge-"+e.courseId);(0,n.lF)(t)?e.typeData=[{name:"文字",id:0,items:[{name:"文字",check:!1},{name:"重点",check:!1}]},{name:"文件",id:1,items:[{name:"word",check:!1},{name:"ppt",check:!1},{name:"pdf",check:!1},{name:"音频",check:!1},{name:"视频",check:!1},{name:"必办",check:!1}]},{name:"题",id:2,items:[{name:"单选",check:!1},{name:"不定项",check:!1},{name:"填空",check:!1},{name:"简答",check:!1},{name:"必做",check:!1}]},{name:"难度",id:3,items:[{name:"基础",check:!1},{name:"中等",check:!1},{name:"困难",check:!1}]}]:e.typeData=JSON.parse(t),(0,n.lF)(a)?(0,i.Or)(e.courseId,0).then((t=>{let a=t.extra;a.length>0&&a.forEach((e=>{e.check=!1})),e.$nextTick((()=>{e.attainment=a}))})):e.attainment=JSON.parse(a),(0,n.lF)(s)?(0,i.Or)(e.courseId,1).then((t=>{let a=t.extra;a.length>0&&a.forEach((e=>{e.check=!1})),e.$nextTick((()=>{e.ability=a}))})):e.ability=JSON.parse(s),(0,n.lF)(c)?(0,i.Or)(e.courseId,2).then((t=>{let a=t.extra;a.length>0&&a.forEach((e=>{e.check=!1})),e.$nextTick((()=>{e.knowledge=a}))})):e.knowledge=JSON.parse(c)},submitData(){let e=this,t=!1,a={courseId:e.courseId,courseText:!1,point:!1,word:!1,ppt:!1,pdf:!1,sounds:!1,video:!1,handle:!1,single:!1,multiSelect:!1,filling:!1,shortAnswer:!1,mustDoing:!1,klIdList:[],difficultyLevel:[]};for(let s=0;s<e.typeData.length;s++)for(let c=0;c<e.typeData[s].items.length;c++)switch(s+""+c){case"00":a.courseText=e.typeData[s].items[c].check,a.courseText&&(t=!0);break;case"01":a.point=e.typeData[s].items[c].check,a.point&&(t=!0);break;case"10":a.word=e.typeData[s].items[c].check,a.word&&(t=!0);break;case"11":a.ppt=e.typeData[s].items[c].check,a.ppt&&(t=!0);break;case"12":a.pdf=e.typeData[s].items[c].check,a.pdf&&(t=!0);break;case"13":a.sounds=e.typeData[s].items[c].check,a.sounds&&(t=!0);break;case"14":a.video=e.typeData[s].items[c].check,a.video&&(t=!0);break;case"15":a.handle=e.typeData[s].items[c].check,a.handle&&(t=!0);break;case"20":a.single=e.typeData[s].items[c].check,a.single&&(t=!0);break;case"21":a.multiSelect=e.typeData[s].items[c].check,a.multiSelect&&(t=!0);break;case"22":a.filling=e.typeData[s].items[c].check,a.filling&&(t=!0);break;case"23":a.shortAnswer=e.typeData[s].items[c].check,a.shortAnswer&&(t=!0);break;case"24":a.mustDoing=e.typeData[s].items[c].check,a.mustDoing&&(t=!0);break;case"30":case"31":case"32":let i="";0==c&&(i=3),1==c&&(i=2),2==c&&(i=1),e.typeData[s].items[c].check&&(a.difficultyLevel.push(i+""),t=!0);break}e.attainment.length>0&&e.attainment.forEach((e=>{e.check&&(a.klIdList.push(e.id),t=!0)})),e.ability.length>0&&e.ability.forEach((e=>{e.check&&(a.klIdList.push(e.id),t=!0)})),e.knowledge.length>0&&e.knowledge.forEach((e=>{e.check&&(a.klIdList.push(e.id),t=!0)})),e.setSessionItem(),t?e.$parent.getCourseFilter(a,t):e.$parent.ChoseCourseFilterWin(0)},clear(){let e=this;for(let t=0;t<e.typeData.length;t++)for(let a=0;a<e.typeData[t].items.length;a++)e.typeData[t].items[a].check=!1;e.attainment.length>0&&e.attainment.forEach((e=>{e.check=!1})),e.ability.length>0&&e.ability.forEach((e=>{e.check=!1})),e.knowledge.length>0&&e.knowledge.forEach((e=>{e.check=!1}))},setSessionItem(){let e=this;sessionStorage.setItem("coursefilter-type-"+e.courseId,JSON.stringify(e.typeData)),sessionStorage.setItem("coursefilter-attainment-"+e.courseId,JSON.stringify(e.attainment)),sessionStorage.setItem("coursefilter-ability-"+e.courseId,JSON.stringify(e.ability)),sessionStorage.setItem("coursefilter-knowledge-"+e.courseId,JSON.stringify(e.knowledge))},CutString(e){return(0,n.lF)(e)||e.length<=15?e:e.substring(0,15)+"..."},close(){this.$parent.ChoseCourseFilterWin(1)}}},o=l,r=a(70713),m=(0,r.Z)(o,s,c,!1,null,"556bbcbd",null),k=m.exports}}]);